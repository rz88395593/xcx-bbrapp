/**
 * bjca
 * @author caolili
 */
var USE_TYPEDARRAY="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView,BitStream=function(t,e){if(this.index="number"==typeof e?e:0,this.bitindex=0,this.buffer=t instanceof(USE_TYPEDARRAY?Uint8Array:Array)?t:new(USE_TYPEDARRAY?Uint8Array:Array)(BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()};BitStream.DefaultBlockSize=32768,BitStream.prototype.expandBuffer=function(){var t,e=this.buffer,i=e.length,r=new(USE_TYPEDARRAY?Uint8Array:Array)(i<<1);if(USE_TYPEDARRAY)r.set(e);else for(t=0;t<i;++t)r[t]=e[t];return this.buffer=r},BitStream.prototype.writeBits=function(t,e,i){var r,a=this.buffer,n=this.index,s=this.bitindex,o=a[n];if(i&&e>1&&(t=e>8?function(t){return BitStream.ReverseTable[255&t]<<24|BitStream.ReverseTable[t>>>8&255]<<16|BitStream.ReverseTable[t>>>16&255]<<8|BitStream.ReverseTable[t>>>24&255]}(t)>>32-e:BitStream.ReverseTable[t]>>8-e),e+s<8)o=o<<e|t,s+=e;else for(r=0;r<e;++r)o=o<<1|t>>e-r-1&1,8==++s&&(s=0,a[n++]=BitStream.ReverseTable[o],o=0,n===a.length&&(a=this.expandBuffer()));a[n]=o,this.buffer=a,this.bitindex=s,this.index=n},BitStream.prototype.finish=function(){var t,e=this.buffer,i=this.index;return this.bitindex>0&&(e[i]<<=8-this.bitindex,e[i]=BitStream.ReverseTable[e[i]],i++),USE_TYPEDARRAY?t=e.subarray(0,i):(e.length=i,t=e),t},BitStream.ReverseTable=function(t){return t}(function(){var t,e=new(USE_TYPEDARRAY?Uint8Array:Array)(256);for(t=0;t<256;++t)e[t]=function(t){var e=t,i=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--i;return(e<<i&255)>>>0}(t);return e}());var ZLIB_CRC32_COMPACT=!1,CRC32=function(){};CRC32.calc=function(t,e,i){return CRC32.update(t,0,e,i)},CRC32.update=function(t,e,i,r){var a=CRC32.Table,n="number"==typeof i?i:i=0,s="number"==typeof r?r:t.length;for(e^=4294967295,n=7&s;n--;++i)e=e>>>8^a[255&(e^t[i])];for(n=s>>3;n--;i+=8)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^a[255&(e^t[i])])>>>8^a[255&(e^t[i+1])])>>>8^a[255&(e^t[i+2])])>>>8^a[255&(e^t[i+3])])>>>8^a[255&(e^t[i+4])])>>>8^a[255&(e^t[i+5])])>>>8^a[255&(e^t[i+6])])>>>8^a[255&(e^t[i+7])];return(4294967295^e)>>>0},CRC32.single=function(t,e){return(CRC32.Table[255&(t^e)]^t>>>8)>>>0},CRC32.table=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],CRC32.Table=ZLIB_CRC32_COMPACT?function(){var t,e,i,r=new(USE_TYPEDARRAY?Uint32Array:Array)(256);for(e=0;e<256;++e){for(t=e,i=0;i<8;++i)t=1&t?3988292384^t>>>1:t>>>1;r[e]=t>>>0}return r}():USE_TYPEDARRAY?new Uint32Array(CRC32.table):CRC32.table;var GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data};GunzipMember.prototype.getName=function(){return this.name},GunzipMember.prototype.getData=function(){return this.data},GunzipMember.prototype.getMtime=function(){return this.mtime};var Heap=function(t){this.buffer=new(USE_TYPEDARRAY?Uint16Array:Array)(2*t),this.length=0};Heap.prototype.getParent=function(t){return 2*((t-2)/4|0)},Heap.prototype.getChild=function(t){return 2*t+2},Heap.prototype.push=function(t,e){var i,r,a,n=this.buffer;for(i=this.length,n[this.length++]=e,n[this.length++]=t;i>0&&(r=this.getParent(i),n[i]>n[r]);)a=n[i],n[i]=n[r],n[r]=a,a=n[i+1],n[i+1]=n[r+1],n[r+1]=a,i=r;return this.length},Heap.prototype.pop=function(){var t,e,i,r,a,n=this.buffer;for(e=n[0],t=n[1],this.length-=2,n[0]=n[this.length],n[1]=n[this.length+1],a=0;;){if((r=this.getChild(a))>=this.length)break;if(r+2<this.length&&n[r+2]>n[r]&&(r+=2),!(n[r]>n[a]))break;i=n[a],n[a]=n[r],n[r]=i,i=n[a+1],n[a+1]=n[r+1],n[r+1]=i,a=r}return{index:t,value:e,length:this.length}};var Huffman=function(){};Huffman.buildHuffmanTable=function(t){var e,i,r,a,n,s,o,f,h,l,u,p=t.length,c=0,d=Number.POSITIVE_INFINITY;for(f=0,h=p;f<h;++f)t[f]>c&&(c=t[f]),t[f]<d&&(d=t[f]);for(e=1<<c,i=new(USE_TYPEDARRAY?Uint32Array:Array)(e),r=1,a=0,n=2;r<=c;){for(f=0;f<p;++f)if(t[f]===r){for(s=0,o=a,l=0;l<r;++l)s=s<<1|1&o,o>>=1;for(u=r<<16|f,l=s;l<e;l+=n)i[l]=u;++a}++r,a<<=1,n<<=1}return[i,c,d]};var RawDeflate=function(t,e){this.compressionType=RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=USE_TYPEDARRAY&&t instanceof Array?new Uint8Array(t):t,this.output,this.op=0,e&&(e.lazy&&(this.lazy=e.lazy),"number"==typeof e.compressionType&&(this.compressionType=e.compressionType),e.outputBuffer&&(this.output=USE_TYPEDARRAY&&e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.op=e.outputIndex)),this.output||(this.output=new(USE_TYPEDARRAY?Uint8Array:Array)(32768))};RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},RawDeflate.Lz77MinLength=3,RawDeflate.Lz77MaxLength=258,RawDeflate.WindowSize=32768,RawDeflate.MaxCodeLength=16,RawDeflate.HUFMAX=286,RawDeflate.FixedHuffmanTable=function(){var t,e=[];for(t=0;t<288;t++)switch(!0){case t<=143:e.push([t+48,8]);break;case t<=255:e.push([t-144+400,9]);break;case t<=279:e.push([t-256+0,7]);break;case t<=287:e.push([t-280+192,8]);break;default:throw"invalid literal: "+t}return e}(),RawDeflate.prototype.compress=function(){var t,e,i,r=this.input;switch(this.compressionType){case RawDeflate.CompressionType.NONE:for(e=0,i=r.length;e<i;)e+=(t=USE_TYPEDARRAY?r.subarray(e,e+65535):r.slice(e,e+65535)).length,this.makeNocompressBlock(t,e===i);break;case RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},RawDeflate.prototype.makeNocompressBlock=function(t,e){var i,r,a,n,s,o,f=this.output,h=this.op;if(USE_TYPEDARRAY){for(f=new Uint8Array(this.output.buffer);f.length<=h+t.length+5;)f=new Uint8Array(f.length<<1);f.set(this.output)}if(i=e?1:0,r=RawDeflate.CompressionType.NONE,f[h++]=i|r<<1,a=t.length,n=65536+~a&65535,f[h++]=255&a,f[h++]=a>>>8&255,f[h++]=255&n,f[h++]=n>>>8&255,USE_TYPEDARRAY)f.set(t,h),h+=t.length,f=f.subarray(0,h);else{for(s=0,o=t.length;s<o;++s)f[h++]=t[s];f.length=h}return this.op=h,this.output=f,f},RawDeflate.prototype.makeFixedHuffmanBlock=function(t,e){var i,r,a,n=new BitStream(USE_TYPEDARRAY?new Uint8Array(this.output.buffer):this.output,this.op);return i=e?1:0,r=RawDeflate.CompressionType.FIXED,n.writeBits(i,1,!0),n.writeBits(r,2,!0),a=this.lz77(t),this.fixedHuffman(a,n),n.finish()},RawDeflate.prototype.makeDynamicHuffmanBlock=function(t,e){var i,r,a,n,s,o,f,h,l,u,p,c,d,R,w,m,A,y=new BitStream(USE_TYPEDARRAY?new Uint8Array(this.output.buffer):this.output,this.op),b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(19);for(i=e?1:0,r=RawDeflate.CompressionType.DYNAMIC,y.writeBits(i,1,!0),y.writeBits(r,2,!0),a=this.lz77(t),f=this.getLengths_(this.freqsLitLen,15),h=this.getCodesFromLengths_(f),l=this.getLengths_(this.freqsDist,7),u=this.getCodesFromLengths_(l),n=286;n>257&&0===f[n-1];n--);for(s=30;s>1&&0===l[s-1];s--);for(p=this.getTreeSymbols_(n,f,s,l),c=this.getLengths_(p.freqs,7),m=0;m<19;m++)E[m]=c[b[m]];for(o=19;o>4&&0===E[o-1];o--);for(d=this.getCodesFromLengths_(c),y.writeBits(n-257,5,!0),y.writeBits(s-1,5,!0),y.writeBits(o-4,4,!0),m=0;m<o;m++)y.writeBits(E[m],3,!0);for(m=0,A=p.codes.length;m<A;m++)if(R=p.codes[m],y.writeBits(d[R],c[R],!0),R>=16){switch(m++,R){case 16:w=2;break;case 17:w=3;break;case 18:w=7;break;default:throw"invalid code: "+R}y.writeBits(p.codes[m],w,!0)}return this.dynamicHuffman(a,[h,f],[u,l],y),y.finish()},RawDeflate.prototype.dynamicHuffman=function(t,e,i,r){var a,n,s,o,f,h,l,u;for(f=e[0],h=e[1],l=i[0],u=i[1],a=0,n=t.length;a<n;++a)if(s=t[a],r.writeBits(f[s],h[s],!0),s>256)r.writeBits(t[++a],t[++a],!0),o=t[++a],r.writeBits(l[o],u[o],!0),r.writeBits(t[++a],t[++a],!0);else if(256===s)break;return r},RawDeflate.prototype.fixedHuffman=function(t,e){var i,r,a;for(i=0,r=t.length;i<r;i++)if(a=t[i],BitStream.prototype.writeBits.apply(e,RawDeflate.FixedHuffmanTable[a]),a>256)e.writeBits(t[++i],t[++i],!0),e.writeBits(t[++i],5),e.writeBits(t[++i],t[++i],!0);else if(256===a)break;return e},RawDeflate.Lz77Match=function(t,e){this.length=t,this.backwardDistance=e},RawDeflate.Lz77Match.LengthCodeTable=function(t){return USE_TYPEDARRAY?new Uint32Array(t):t}(function(){var t,e,i=[];for(t=3;t<=258;t++)e=function(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case t<=12:return[265,t-11,1];case t<=14:return[266,t-13,1];case t<=16:return[267,t-15,1];case t<=18:return[268,t-17,1];case t<=22:return[269,t-19,2];case t<=26:return[270,t-23,2];case t<=30:return[271,t-27,2];case t<=34:return[272,t-31,2];case t<=42:return[273,t-35,3];case t<=50:return[274,t-43,3];case t<=58:return[275,t-51,3];case t<=66:return[276,t-59,3];case t<=82:return[277,t-67,4];case t<=98:return[278,t-83,4];case t<=114:return[279,t-99,4];case t<=130:return[280,t-115,4];case t<=162:return[281,t-131,5];case t<=194:return[282,t-163,5];case t<=226:return[283,t-195,5];case t<=257:return[284,t-227,5];case 258===t:return[285,t-258,0];default:throw"invalid length: "+t}}(t),i[t]=e[2]<<24|e[1]<<16|e[0];return i}()),RawDeflate.Lz77Match.prototype.getDistanceCode_=function(t){var e;switch(!0){case 1===t:e=[0,t-1,0];break;case 2===t:e=[1,t-2,0];break;case 3===t:e=[2,t-3,0];break;case 4===t:e=[3,t-4,0];break;case t<=6:e=[4,t-5,1];break;case t<=8:e=[5,t-7,1];break;case t<=12:e=[6,t-9,2];break;case t<=16:e=[7,t-13,2];break;case t<=24:e=[8,t-17,3];break;case t<=32:e=[9,t-25,3];break;case t<=48:e=[10,t-33,4];break;case t<=64:e=[11,t-49,4];break;case t<=96:e=[12,t-65,5];break;case t<=128:e=[13,t-97,5];break;case t<=192:e=[14,t-129,6];break;case t<=256:e=[15,t-193,6];break;case t<=384:e=[16,t-257,7];break;case t<=512:e=[17,t-385,7];break;case t<=768:e=[18,t-513,8];break;case t<=1024:e=[19,t-769,8];break;case t<=1536:e=[20,t-1025,9];break;case t<=2048:e=[21,t-1537,9];break;case t<=3072:e=[22,t-2049,10];break;case t<=4096:e=[23,t-3073,10];break;case t<=6144:e=[24,t-4097,11];break;case t<=8192:e=[25,t-6145,11];break;case t<=12288:e=[26,t-8193,12];break;case t<=16384:e=[27,t-12289,12];break;case t<=24576:e=[28,t-16385,13];break;case t<=32768:e=[29,t-24577,13];break;default:throw"invalid distance"}return e},RawDeflate.Lz77Match.prototype.toLz77Array=function(){var t,e=this.length,i=this.backwardDistance,r=[],a=0;return t=RawDeflate.Lz77Match.LengthCodeTable[e],r[a++]=65535&t,r[a++]=t>>16&255,r[a++]=t>>24,t=this.getDistanceCode_(i),r[a++]=t[0],r[a++]=t[1],r[a++]=t[2],r},RawDeflate.prototype.lz77=function(t){function e(t,e){var i,r,a=t.toLz77Array();for(i=0,r=a.length;i<r;++i)c[d++]=a[i];w[a[0]]++,m[a[3]]++,R=t.length+e-1,h=null}var i,r,a,n,s,o,f,h,l,u={},p=RawDeflate.WindowSize,c=USE_TYPEDARRAY?new Uint16Array(2*t.length):[],d=0,R=0,w=new(USE_TYPEDARRAY?Uint32Array:Array)(286),m=new(USE_TYPEDARRAY?Uint32Array:Array)(30),A=this.lazy;if(!USE_TYPEDARRAY){for(a=0;a<=285;)w[a++]=0;for(a=0;a<=29;)m[a++]=0}for(w[256]=1,i=0,r=t.length;i<r;++i){for(s=0,a=0,n=RawDeflate.Lz77MinLength;a<n&&i+a!==r;++a)s=s<<8|t[i+a];if(void 0===u[s]&&(u[s]=[]),o=u[s],R-- >0)o.push(i);else{for(;o.length>0&&i-o[0]>p;)o.shift();if(i+RawDeflate.Lz77MinLength>=r){for(h&&e(h,-1),a=0,n=r-i;a<n;++a)l=t[i+a],c[d++]=l,++w[l];break}o.length>0?(f=this.searchLongestMatch_(t,i,o),h?h.length<f.length?(l=t[i-1],c[d++]=l,++w[l],e(f,0)):e(h,-1):f.length<A?h=f:e(f,0)):h?e(h,-1):(l=t[i],c[d++]=l,++w[l]),o.push(i)}}return c[d++]=256,w[256]++,this.freqsLitLen=w,this.freqsDist=m,USE_TYPEDARRAY?c.subarray(0,d):c},RawDeflate.prototype.searchLongestMatch_=function(t,e,i){var r,a,n,s,o,f,h=0,l=t.length;t:for(s=0,f=i.length;s<f;s++){if(r=i[f-s-1],n=RawDeflate.Lz77MinLength,h>RawDeflate.Lz77MinLength){for(o=h;o>RawDeflate.Lz77MinLength;o--)if(t[r+o-1]!==t[e+o-1])continue t;n=h}for(;n<RawDeflate.Lz77MaxLength&&e+n<l&&t[r+n]===t[e+n];)++n;if(n>h&&(a=r,h=n),n===RawDeflate.Lz77MaxLength)break}return new RawDeflate.Lz77Match(h,e-a)},RawDeflate.prototype.getTreeSymbols_=function(t,e,i,r){var a,n,s,o,f,h,l=new(USE_TYPEDARRAY?Uint32Array:Array)(t+i),u=new(USE_TYPEDARRAY?Uint32Array:Array)(316),p=new(USE_TYPEDARRAY?Uint8Array:Array)(19);for(n=0,a=0;a<t;a++)l[n++]=e[a];for(a=0;a<i;a++)l[n++]=r[a];if(!USE_TYPEDARRAY)for(a=0,o=p.length;a<o;++a)p[a]=0;for(f=0,a=0,o=l.length;a<o;a+=n){for(n=1;a+n<o&&l[a+n]===l[a];++n);if(s=n,0===l[a])if(s<3)for(;s-- >0;)u[f++]=0,p[0]++;else for(;s>0;)(h=s<138?s:138)>s-3&&h<s&&(h=s-3),h<=10?(u[f++]=17,u[f++]=h-3,p[17]++):(u[f++]=18,u[f++]=h-11,p[18]++),s-=h;else if(u[f++]=l[a],p[l[a]]++,--s<3)for(;s-- >0;)u[f++]=l[a],p[l[a]]++;else for(;s>0;)(h=s<6?s:6)>s-3&&h<s&&(h=s-3),u[f++]=16,u[f++]=h-3,p[16]++,s-=h}return{codes:USE_TYPEDARRAY?u.subarray(0,f):u.slice(0,f),freqs:p}},RawDeflate.prototype.getLengths_=function(t,e){var i,r,a,n,s,o=t.length,f=new Heap(2*RawDeflate.HUFMAX),h=new(USE_TYPEDARRAY?Uint8Array:Array)(o);if(!USE_TYPEDARRAY)for(n=0;n<o;n++)h[n]=0;for(n=0;n<o;++n)t[n]>0&&f.push(n,t[n]);if(i=new Array(f.length/2),r=new(USE_TYPEDARRAY?Uint32Array:Array)(f.length/2),1===i.length)return h[f.pop().index]=1,h;for(n=0,s=f.length/2;n<s;++n)i[n]=f.pop(),r[n]=i[n].value;for(a=this.reversePackageMerge_(r,r.length,e),n=0,s=i.length;n<s;++n)h[i[n].index]=a[n];return h},RawDeflate.prototype.reversePackageMerge_=function(t,e,i){function r(t){var i=c[t][d[t]];i===e?(r(t+1),r(t+1)):--u[i],++d[t]}var a,n,s,o,f,h=new(USE_TYPEDARRAY?Uint16Array:Array)(i),l=new(USE_TYPEDARRAY?Uint8Array:Array)(i),u=new(USE_TYPEDARRAY?Uint8Array:Array)(e),p=new Array(i),c=new Array(i),d=new Array(i),R=(1<<i)-e,w=1<<i-1;for(h[i-1]=e,n=0;n<i;++n)R<w?l[n]=0:(l[n]=1,R-=w),R<<=1,h[i-2-n]=(h[i-1-n]/2|0)+e;for(h[0]=l[0],p[0]=new Array(h[0]),c[0]=new Array(h[0]),n=1;n<i;++n)h[n]>2*h[n-1]+l[n]&&(h[n]=2*h[n-1]+l[n]),p[n]=new Array(h[n]),c[n]=new Array(h[n]);for(a=0;a<e;++a)u[a]=i;for(s=0;s<h[i-1];++s)p[i-1][s]=t[s],c[i-1][s]=s;for(a=0;a<i;++a)d[a]=0;for(1===l[i-1]&&(--u[0],++d[i-1]),n=i-2;n>=0;--n){for(a=0,o=0,f=d[n+1],s=0;s<h[n];s++)(o=p[n+1][f]+p[n+1][f+1])>t[a]?(p[n][s]=o,c[n][s]=e,f+=2):(p[n][s]=t[a],c[n][s]=a,++a);d[n]=0,1===l[n]&&r(n)}return u},RawDeflate.prototype.getCodesFromLengths_=function(t){var e,i,r,a,n=new(USE_TYPEDARRAY?Uint16Array:Array)(t.length),s=[],o=[],f=0;for(e=0,i=t.length;e<i;e++)s[t[e]]=1+(0|s[t[e]]);for(e=1,i=RawDeflate.MaxCodeLength;e<=i;e++)o[e]=f,f+=0|s[e],f<<=1;for(e=0,i=t.length;e<i;e++)for(f=o[t[e]],o[t[e]]+=1,n[e]=0,r=0,a=t[e];r<a;r++)n[e]=n[e]<<1|1&f,f>>>=1;return n};var Gzip=function(t,e){this.input=t,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,e&&(e.flags&&(this.flags=e.flags),"string"==typeof e.filename&&(this.filename=e.filename),"string"==typeof e.comment&&(this.comment=e.comment),e.deflateOptions&&(this.deflateOptions=e.deflateOptions)),this.deflateOptions||(this.deflateOptions={})};Gzip.DefaultBufferSize=32768,Gzip.prototype.compress=function(){var t,e,i,r,a,n,s,o,f=new(USE_TYPEDARRAY?Uint8Array:Array)(Gzip.DefaultBufferSize),h=0,l=this.input,u=this.ip,p=this.filename,c=this.comment;if(f[h++]=31,f[h++]=139,f[h++]=8,t=0,this.flags.fname&&(t|=Gzip.FlagsMask.FNAME),this.flags.fcomment&&(t|=Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(t|=Gzip.FlagsMask.FHCRC),f[h++]=t,e=(Date.now?Date.now():+new Date)/1e3|0,f[h++]=255&e,f[h++]=e>>>8&255,f[h++]=e>>>16&255,f[h++]=e>>>24&255,f[h++]=0,f[h++]=Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(s=0,o=p.length;s<o;++s)(n=p.charCodeAt(s))>255&&(f[h++]=n>>>8&255),f[h++]=255&n;f[h++]=0}if(this.flags.comment){for(s=0,o=c.length;s<o;++s)(n=c.charCodeAt(s))>255&&(f[h++]=n>>>8&255),f[h++]=255&n;f[h++]=0}return this.flags.fhcrc&&(i=65535&CRC32.calc(f,0,h),f[h++]=255&i,f[h++]=i>>>8&255),this.deflateOptions.outputBuffer=f,this.deflateOptions.outputIndex=h,a=new RawDeflate(l,this.deflateOptions),f=a.compress(),h=a.op,USE_TYPEDARRAY&&(h+8>f.buffer.byteLength?(this.output=new Uint8Array(h+8),this.output.set(new Uint8Array(f.buffer)),f=this.output):f=new Uint8Array(f.buffer)),r=CRC32.calc(l),f[h++]=255&r,f[h++]=r>>>8&255,f[h++]=r>>>16&255,f[h++]=r>>>24&255,o=l.length,f[h++]=255&o,f[h++]=o>>>8&255,f[h++]=o>>>16&255,f[h++]=o>>>24&255,this.ip=u,USE_TYPEDARRAY&&h<f.length&&(this.output=f=f.subarray(0,h)),f},Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16};var ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE=32768,buildHuffmanTable=Huffman.buildHuffmanTable,RawInflateStream=function(t,e,i){this.blocks=[],this.bufferSize=i||ZLIB_STREAM_RAW_INFLATE_BUFFER_SIZE,this.totalpos=0,this.ip=void 0===e?0:e,this.bitsbuf=0,this.bitsbuflen=0,this.input=USE_TYPEDARRAY?new Uint8Array(t):t,this.output=new(USE_TYPEDARRAY?Uint8Array:Array)(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_};RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},RawInflateStream.prototype.decompress=function(t,e){var i=!1;for(void 0!==t&&(this.input=t),void 0!==e&&(this.ip=e);!i;)switch(this.status){case RawInflateStream.Status.INITIALIZED:case RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(i=!0);break;case RawInflateStream.Status.BLOCK_HEADER_END:case RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(i=!0);break;case RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(i=!0);break;case RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(i=!0)}break;case RawInflateStream.Status.BLOCK_BODY_END:case RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(i=!0);break;case RawInflateStream.BlockType.FIXED:case RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(i=!0)}break;case RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?i=!0:this.status=RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},RawInflateStream.MaxBackwardLength=32768,RawInflateStream.MaxCopyLength=258,RawInflateStream.Order=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RawInflateStream.LengthCodeTable=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),RawInflateStream.LengthExtraTable=function(t){return USE_TYPEDARRAY?new Uint8Array(t):t}([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),RawInflateStream.DistCodeTable=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),RawInflateStream.DistExtraTable=function(t){return USE_TYPEDARRAY?new Uint8Array(t):t}([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),RawInflateStream.FixedLiteralLengthTable=function(t){return t}(function(){var t,e,i=new(USE_TYPEDARRAY?Uint8Array:Array)(288);for(t=0,e=i.length;t<e;++t)i[t]=t<=143?8:t<=255?9:t<=279?7:8;return buildHuffmanTable(i)}()),RawInflateStream.FixedDistanceTable=function(t){return t}(function(){var t,e,i=new(USE_TYPEDARRAY?Uint8Array:Array)(30);for(t=0,e=i.length;t<e;++t)i[t]=5;return buildHuffmanTable(i)}()),RawInflateStream.prototype.readBlockHeader=function(){var t;if(this.status=RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(t=this.readBits(3))<0)return this.restore_(),-1;switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.currentBlockType=RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+t)}this.status=RawInflateStream.Status.BLOCK_HEADER_END},RawInflateStream.prototype.readBits=function(t){for(var e,i=this.bitsbuf,r=this.bitsbuflen,a=this.input,n=this.ip;r<t;){if(a.length<=n)return-1;i|=(e=a[n++])<<r,r+=8}return e=i&(1<<t)-1,i>>>=t,r-=t,this.bitsbuf=i,this.bitsbuflen=r,this.ip=n,e},RawInflateStream.prototype.readCodeByTable=function(t){for(var e,i,r=this.bitsbuf,a=this.bitsbuflen,n=this.input,s=this.ip,o=t[0],f=t[1];a<f;){if(n.length<=s)return-1;r|=n[s++]<<a,a+=8}if(e=o[r&(1<<f)-1],(i=e>>>16)>a)throw new Error("invalid code length: "+i);return this.bitsbuf=r>>i,this.bitsbuflen=a-i,this.ip=s,65535&e},RawInflateStream.prototype.readUncompressedBlockHeader=function(){var t,e,i=this.input,r=this.ip;if(this.status=RawInflateStream.Status.BLOCK_BODY_START,r+4>=i.length)return-1;if(t=i[r++]|i[r++]<<8,e=i[r++]|i[r++]<<8,t===~e)throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=r,this.blockLength=t,this.status=RawInflateStream.Status.BLOCK_BODY_END},RawInflateStream.prototype.parseUncompressedBlock=function(){var t=this.input,e=this.ip,i=this.output,r=this.op,a=this.blockLength;for(this.status=RawInflateStream.Status.DECODE_BLOCK_START;a--;){if(r===i.length&&(i=this.expandBuffer({fixRatio:2})),e>=t.length)return this.ip=e,this.op=r,this.blockLength=a+1,-1;i[r++]=t[e++]}return a<0&&(this.status=RawInflateStream.Status.DECODE_BLOCK_END),this.ip=e,this.op=r,0},RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=RawInflateStream.FixedLiteralLengthTable,this.distTable=RawInflateStream.FixedDistanceTable,this.status=RawInflateStream.Status.BLOCK_BODY_END,0},RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var t,e,i,r,a,n,s=new(USE_TYPEDARRAY?Uint8Array:Array)(RawInflateStream.Order.length);if(this.status=RawInflateStream.Status.BLOCK_BODY_START,this.save_(),t=this.readBits(5)+257,e=this.readBits(5)+1,i=this.readBits(4)+4,t<0||e<0||i<0)return this.restore_(),-1;try{(function(){var o,f,h,l,u,p,c=0;for(u=0;u<i;++u){if((o=this.readBits(3))<0)throw new Error("not enough input");s[RawInflateStream.Order[u]]=o}for(r=buildHuffmanTable(s),l=new(USE_TYPEDARRAY?Uint8Array:Array)(t+e),u=0,p=t+e;u<p;){if((f=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(f){case 16:if((o=this.readBits(2))<0)throw new Error("not enough input");for(h=3+o;h--;)l[u++]=c;break;case 17:if((o=this.readBits(3))<0)throw new Error("not enough input");for(h=3+o;h--;)l[u++]=0;c=0;break;case 18:if((o=this.readBits(7))<0)throw new Error("not enough input");for(h=11+o;h--;)l[u++]=0;c=0;break;default:l[u++]=f,c=f}}a=new(USE_TYPEDARRAY?Uint8Array:Array)(t),n=new(USE_TYPEDARRAY?Uint8Array:Array)(e),this.litlenTable=buildHuffmanTable(USE_TYPEDARRAY?l.subarray(0,t):l.slice(0,t)),this.distTable=buildHuffmanTable(USE_TYPEDARRAY?l.subarray(t):l.slice(t))}).call(this)}catch(t){return this.restore_(),-1}return this.status=RawInflateStream.Status.BLOCK_BODY_END,0},RawInflateStream.prototype.decodeHuffman=function(){var t,e,i,r,a,n=this.output,s=this.op,o=this.litlenTable,f=this.distTable,h=n.length;for(this.status=RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(t=this.readCodeByTable(o))<0)return this.op=s,this.restore_(),-1;if(256===t)break;if(t<256)s===h&&(h=(n=this.expandBuffer()).length),n[s++]=t;else{if(e=t-257,r=RawInflateStream.LengthCodeTable[e],RawInflateStream.LengthExtraTable[e]>0){if((a=this.readBits(RawInflateStream.LengthExtraTable[e]))<0)return this.op=s,this.restore_(),-1;r+=a}if((t=this.readCodeByTable(f))<0)return this.op=s,this.restore_(),-1;if(i=RawInflateStream.DistCodeTable[t],RawInflateStream.DistExtraTable[t]>0){if((a=this.readBits(RawInflateStream.DistExtraTable[t]))<0)return this.op=s,this.restore_(),-1;i+=a}for(s+r>=h&&(h=(n=this.expandBuffer()).length);r--;)n[s]=n[s++-i];if(this.ip===this.input.length)return this.op=s,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=s,this.status=RawInflateStream.Status.DECODE_BLOCK_END},RawInflateStream.prototype.expandBuffer=function(t){var e,i,r,a=this.input.length/this.ip+1|0,n=this.input,s=this.output;return t&&("number"==typeof t.fixRatio&&(a=t.fixRatio),"number"==typeof t.addRatio&&(a+=t.addRatio)),i=a<2?(r=(n.length-this.ip)/this.litlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*a,USE_TYPEDARRAY?(e=new Uint8Array(i)).set(s):e=s,this.output=e,this.output},RawInflateStream.prototype.concatBuffer=function(){var t,e,i=this.op;return t=this.resize?USE_TYPEDARRAY?new Uint8Array(this.output.subarray(this.sp,i)):this.output.slice(this.sp,i):USE_TYPEDARRAY?this.output.subarray(this.sp,i):this.output.slice(this.sp,i),this.sp=i,i>RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=RawInflateStream.MaxBackwardLength,USE_TYPEDARRAY?(e=this.output,this.output=new Uint8Array(this.bufferSize+RawInflateStream.MaxBackwardLength),this.output.set(e.subarray(i-RawInflateStream.MaxBackwardLength,i))):this.output=this.output.slice(i-RawInflateStream.MaxBackwardLength)),t};var ZLIB_RAW_INFLATE_BUFFER_SIZE=32768,buildHuffmanTable=Huffman.buildHuffmanTable,RawInflate=function(t,e){switch(this.buffer,this.blocks=[],this.bufferSize=ZLIB_RAW_INFLATE_BUFFER_SIZE,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=USE_TYPEDARRAY?new Uint8Array(t):t,this.output,this.op,this.bfinal=!1,this.bufferType=RawInflate.BufferType.ADAPTIVE,this.resize=!1,!e&&(e={})||(e.index&&(this.ip=e.index),e.bufferSize&&(this.bufferSize=e.bufferSize),e.bufferType&&(this.bufferType=e.bufferType),e.resize&&(this.resize=e.resize)),this.bufferType){case RawInflate.BufferType.BLOCK:this.op=RawInflate.MaxBackwardLength,this.output=new(USE_TYPEDARRAY?Uint8Array:Array)(RawInflate.MaxBackwardLength+this.bufferSize+RawInflate.MaxCopyLength);break;case RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new(USE_TYPEDARRAY?Uint8Array:Array)(this.bufferSize),this.expandBuffer=this.expandBufferAdaptive,this.concatBuffer=this.concatBufferDynamic,this.decodeHuffman=this.decodeHuffmanAdaptive;break;default:throw new Error("invalid inflate mode")}};RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();return this.concatBuffer()},RawInflate.MaxBackwardLength=32768,RawInflate.MaxCopyLength=258,RawInflate.Order=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RawInflate.LengthCodeTable=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),RawInflate.LengthExtraTable=function(t){return USE_TYPEDARRAY?new Uint8Array(t):t}([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),RawInflate.DistCodeTable=function(t){return USE_TYPEDARRAY?new Uint16Array(t):t}([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),RawInflate.DistExtraTable=function(t){return USE_TYPEDARRAY?new Uint8Array(t):t}([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),RawInflate.FixedLiteralLengthTable=function(t){return t}(function(){var t,e,i=new(USE_TYPEDARRAY?Uint8Array:Array)(288);for(t=0,e=i.length;t<e;++t)i[t]=t<=143?8:t<=255?9:t<=279?7:8;return buildHuffmanTable(i)}()),RawInflate.FixedDistanceTable=function(t){return t}(function(){var t,e,i=new(USE_TYPEDARRAY?Uint8Array:Array)(30);for(t=0,e=i.length;t<e;++t)i[t]=5;return buildHuffmanTable(i)}()),RawInflate.prototype.parseBlock=function(){var t=this.readBits(3);switch(1&t&&(this.bfinal=!0),t>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+t)}},RawInflate.prototype.readBits=function(t){for(var e,i=this.bitsbuf,r=this.bitsbuflen,a=this.input,n=this.ip,s=a.length;r<t;){if(n>=s)throw new Error("input buffer is broken");i|=a[n++]<<r,r+=8}return e=i&(1<<t)-1,i>>>=t,r-=t,this.bitsbuf=i,this.bitsbuflen=r,this.ip=n,e},RawInflate.prototype.readCodeByTable=function(t){for(var e,i,r=this.bitsbuf,a=this.bitsbuflen,n=this.input,s=this.ip,o=n.length,f=t[0],h=t[1];a<h&&!(s>=o);)r|=n[s++]<<a,a+=8;if(e=f[r&(1<<h)-1],(i=e>>>16)>a)throw new Error("invalid code length: "+i);return this.bitsbuf=r>>i,this.bitsbuflen=a-i,this.ip=s,65535&e},RawInflate.prototype.parseUncompressedBlock=function(){var t,e,i,r=this.input,a=this.ip,n=this.output,s=this.op,o=r.length,f=n.length;if(this.bitsbuf=0,this.bitsbuflen=0,a+1>=o)throw new Error("invalid uncompressed block header: LEN");if(t=r[a++]|r[a++]<<8,a+1>=o)throw new Error("invalid uncompressed block header: NLEN");if(e=r[a++]|r[a++]<<8,t===~e)throw new Error("invalid uncompressed block header: length verify");if(a+t>r.length)throw new Error("input buffer is broken");switch(this.bufferType){case RawInflate.BufferType.BLOCK:for(;s+t>n.length;){if(i=f-s,t-=i,USE_TYPEDARRAY)n.set(r.subarray(a,a+i),s),s+=i,a+=i;else for(;i--;)n[s++]=r[a++];this.op=s,n=this.expandBuffer(),s=this.op}break;case RawInflate.BufferType.ADAPTIVE:for(;s+t>n.length;)n=this.expandBuffer({fixRatio:2});break;default:throw new Error("invalid inflate mode")}if(USE_TYPEDARRAY)n.set(r.subarray(a,a+t),s),s+=t,a+=t;else for(;t--;)n[s++]=r[a++];this.ip=a,this.op=s,this.output=n},RawInflate.prototype.parseFixedHuffmanBlock=function(){this.decodeHuffman(RawInflate.FixedLiteralLengthTable,RawInflate.FixedDistanceTable)},RawInflate.prototype.parseDynamicHuffmanBlock=function(){var t,e,i,r,a,n,s,o,f,h=this.readBits(5)+257,l=this.readBits(5)+1,u=this.readBits(4)+4,p=new(USE_TYPEDARRAY?Uint8Array:Array)(RawInflate.Order.length);for(o=0;o<u;++o)p[RawInflate.Order[o]]=this.readBits(3);if(!USE_TYPEDARRAY)for(o=u,u=p.length;o<u;++o)p[RawInflate.Order[o]]=0;for(t=buildHuffmanTable(p),r=new(USE_TYPEDARRAY?Uint8Array:Array)(h+l),o=0,f=h+l;o<f;)switch(a=this.readCodeByTable(t)){case 16:for(s=3+this.readBits(2);s--;)r[o++]=n;break;case 17:for(s=3+this.readBits(3);s--;)r[o++]=0;n=0;break;case 18:for(s=11+this.readBits(7);s--;)r[o++]=0;n=0;break;default:r[o++]=a,n=a}e=buildHuffmanTable(USE_TYPEDARRAY?r.subarray(0,h):r.slice(0,h)),i=buildHuffmanTable(USE_TYPEDARRAY?r.subarray(h):r.slice(h)),this.decodeHuffman(e,i)},RawInflate.prototype.decodeHuffman=function(t,e){var i=this.output,r=this.op;this.currentLitlenTable=t;for(var a,n,s,o,f=i.length-RawInflate.MaxCopyLength;256!==(a=this.readCodeByTable(t));)if(a<256)r>=f&&(this.op=r,i=this.expandBuffer(),r=this.op),i[r++]=a;else for(n=a-257,o=RawInflate.LengthCodeTable[n],RawInflate.LengthExtraTable[n]>0&&(o+=this.readBits(RawInflate.LengthExtraTable[n])),a=this.readCodeByTable(e),s=RawInflate.DistCodeTable[a],RawInflate.DistExtraTable[a]>0&&(s+=this.readBits(RawInflate.DistExtraTable[a])),r>=f&&(this.op=r,i=this.expandBuffer(),r=this.op);o--;)i[r]=i[r++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},RawInflate.prototype.decodeHuffmanAdaptive=function(t,e){var i=this.output,r=this.op;this.currentLitlenTable=t;for(var a,n,s,o,f=i.length;256!==(a=this.readCodeByTable(t));)if(a<256)r>=f&&(f=(i=this.expandBuffer()).length),i[r++]=a;else for(n=a-257,o=RawInflate.LengthCodeTable[n],RawInflate.LengthExtraTable[n]>0&&(o+=this.readBits(RawInflate.LengthExtraTable[n])),a=this.readCodeByTable(e),s=RawInflate.DistCodeTable[a],RawInflate.DistExtraTable[a]>0&&(s+=this.readBits(RawInflate.DistExtraTable[a])),r+o>f&&(f=(i=this.expandBuffer()).length);o--;)i[r]=i[r++-s];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},RawInflate.prototype.expandBuffer=function(t){var e,i,r=new(USE_TYPEDARRAY?Uint8Array:Array)(this.op-RawInflate.MaxBackwardLength),a=this.op-RawInflate.MaxBackwardLength,n=this.output;if(USE_TYPEDARRAY)r.set(n.subarray(RawInflate.MaxBackwardLength,r.length));else for(e=0,i=r.length;e<i;++e)r[e]=n[e+RawInflate.MaxBackwardLength];if(this.blocks.push(r),this.totalpos+=r.length,USE_TYPEDARRAY)n.set(n.subarray(a,a+RawInflate.MaxBackwardLength));else for(e=0;e<RawInflate.MaxBackwardLength;++e)n[e]=n[a+e];return this.op=RawInflate.MaxBackwardLength,n},RawInflate.prototype.expandBufferAdaptive=function(t){var e,i,r,a=this.input.length/this.ip+1|0,n=this.input,s=this.output;return t&&("number"==typeof t.fixRatio&&(a=t.fixRatio),"number"==typeof t.addRatio&&(a+=t.addRatio)),i=a<2?(r=(n.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<s.length?s.length+r:s.length<<1:s.length*a,USE_TYPEDARRAY?(e=new Uint8Array(i)).set(s):e=s,this.output=e,this.output},RawInflate.prototype.concatBuffer=function(){var t,e,i,r,a,n=0,s=this.totalpos+(this.op-RawInflate.MaxBackwardLength),o=this.output,f=this.blocks,h=new(USE_TYPEDARRAY?Uint8Array:Array)(s);if(0===f.length)return USE_TYPEDARRAY?this.output.subarray(RawInflate.MaxBackwardLength,this.op):this.output.slice(RawInflate.MaxBackwardLength,this.op);for(e=0,i=f.length;e<i;++e)for(r=0,a=(t=f[e]).length;r<a;++r)h[n++]=t[r];for(e=RawInflate.MaxBackwardLength,i=this.op;e<i;++e)h[n++]=o[e];return this.blocks=[],this.buffer=h,this.buffer},RawInflate.prototype.concatBufferDynamic=function(){var t,e=this.op;return USE_TYPEDARRAY?this.resize?(t=new Uint8Array(e)).set(this.output.subarray(0,e)):t=this.output.subarray(0,e):(this.output.length>e&&(this.output.length=e),t=this.output),this.buffer=t,this.buffer};var Gunzip=function(t,e){this.input=t,this.ip=0,this.member=[],this.decompressed=!1};Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},Gunzip.prototype.decompress=function(){for(var t=this.input.length;this.ip<t;)this.decodeMember();return this.decompressed=!0,this.concatMember()},Gunzip.prototype.decodeMember=function(){var t,e,i,r,a,n,s,o,f,h=new GunzipMember,l=this.input,u=this.ip;if(h.id1=l[u++],h.id2=l[u++],31!==h.id1||139!==h.id2)throw new Error("invalid file signature:"+h.id1+","+h.id2);switch(h.cm=l[u++],h.cm){case 8:break;default:throw new Error("unknown compression method: "+h.cm)}if(h.flg=l[u++],o=l[u++]|l[u++]<<8|l[u++]<<16|l[u++]<<24,h.mtime=new Date(1e3*o),h.xfl=l[u++],h.os=l[u++],(h.flg&Gzip.FlagsMask.FEXTRA)>0&&(h.xlen=l[u++]|l[u++]<<8,u=this.decodeSubField(u,h.xlen)),(h.flg&Gzip.FlagsMask.FNAME)>0){for(s=[],n=0;(a=l[u++])>0;)s[n++]=String.fromCharCode(a);h.name=s.join("")}if((h.flg&Gzip.FlagsMask.FCOMMENT)>0){for(s=[],n=0;(a=l[u++])>0;)s[n++]=String.fromCharCode(a);h.comment=s.join("")}if((h.flg&Gzip.FlagsMask.FHCRC)>0&&(h.crc16=65535&CRC32.calc(l,0,u),h.crc16!==(l[u++]|l[u++]<<8)))throw new Error("invalid header crc16");if(t=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24,l.length-u-4-4<512*t&&(r=t),e=new RawInflate(l,{index:u,bufferSize:r}),h.data=i=e.decompress(),u=e.ip,h.crc32=f=(l[u++]|l[u++]<<8|l[u++]<<16|l[u++]<<24)>>>0,CRC32.calc(i)!==f)throw new Error("invalid CRC-32 checksum: 0x"+CRC32.calc(i).toString(16)+" / 0x"+f.toString(16));if(h.isize=t=(l[u++]|l[u++]<<8|l[u++]<<16|l[u++]<<24)>>>0,(4294967295&i.length)!==t)throw new Error("invalid input size: "+(4294967295&i.length)+" / "+t);this.member.push(h),this.ip=u},Gunzip.prototype.decodeSubField=function(t,e){return t+e},Gunzip.prototype.concatMember=function(){var t,e,i,r=this.member,a=0,n=0;for(t=0,e=r.length;t<e;++t)n+=r[t].data.length;if(USE_TYPEDARRAY)for(i=new Uint8Array(n),t=0;t<e;++t)i.set(r[t].data,a),a+=r[t].data.length;else{for(i=[],t=0;t<e;++t)i[t]=r[t].data;i=Array.prototype.concat.apply([],i)}return i};var stringToByteArray=function(t){var e,i,r=t.split("");for(e=0,i=r.length;e<i;e++)r[e]=(255&r[e].charCodeAt(0))>>>0;return r},Adler32=function(t){return"string"==typeof t&&(t=stringToByteArray(t)),Adler32.update(1,t)};Adler32.update=function(t,e){for(var i,r=65535&t,a=t>>>16&65535,n=e.length,s=0;n>0;){n-=i=n>Adler32.OptimizationParameter?Adler32.OptimizationParameter:n;do{a+=r+=e[s++]}while(--i);r%=65521,a%=65521}return(a<<16|r)>>>0},Adler32.OptimizationParameter=1024;var Inflate=function(t,e){var i,r;switch(this.input=t,this.ip=0,this.rawinflate,this.verify,!e&&(e={})||(e.index&&(this.ip=e.index),e.verify&&(this.verify=e.verify)),i=t[this.ip++],r=t[this.ip++],15&i){case CompressionMethod.DEFLATE:this.method=CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new RawInflate(t,{index:this.ip,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})};Inflate.BufferType=RawInflate.BufferType,Inflate.prototype.decompress=function(){var t,e=this.input;if(t=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(e[this.ip++]<<24|e[this.ip++]<<16|e[this.ip++]<<8|e[this.ip++])>>>0!==Adler32(t))throw new Error("invalid adler-32 checksum");return t};var Zip=function(t){t=t||{},this.files=[],this.comment=t.comment,this.password};Zip.CompressionMethod={STORE:0,DEFLATE:8},Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},Zip.FileHeaderSignature=[80,75,1,2],Zip.LocalFileHeaderSignature=[80,75,3,4],Zip.CentralDirectorySignature=[80,75,5,6],Zip.prototype.addFile=function(t,e){e=e||{};var i,r=t.length,a=0;if(USE_TYPEDARRAY&&t instanceof Array&&(t=new Uint8Array(t)),"number"!=typeof e.compressionMethod&&(e.compressionMethod=Zip.CompressionMethod.DEFLATE),e.compress)switch(e.compressionMethod){case Zip.CompressionMethod.STORE:break;case Zip.CompressionMethod.DEFLATE:a=CRC32.calc(t),t=this.deflateWithOption(t,e),i=!0;break;default:throw new Error("unknown compression method:"+e.compressionMethod)}this.files.push({buffer:t,option:e,compressed:i,encrypted:!1,size:r,crc32:a})},Zip.prototype.setPassword=function(t){this.password=t},Zip.prototype.compress=function(){var t,e,i,r,a,n,s,o,f,h,l,u,p,c,d,R,w,m,A,y,b,E,g,S,D,T,U,Y=this.files,B=0,C=0;for(S=0,D=Y.length;S<D;++S){if(t=Y[S],d=t.option.filename?t.option.filename.length:0,R=t.option.extraField?t.option.extraField.length:0,w=t.option.comment?t.option.comment.length:0,!t.compressed)switch(t.crc32=CRC32.calc(t.buffer),t.option.compressionMethod){case Zip.CompressionMethod.STORE:break;case Zip.CompressionMethod.DEFLATE:t.buffer=this.deflateWithOption(t.buffer,t.option),t.compressed=!0;break;default:throw new Error("unknown compression method:"+t.option.compressionMethod)}if(void 0!==t.option.password||void 0!==this.password){for(g=this.createEncryptionKey(t.option.password||this.password),b=t.buffer,USE_TYPEDARRAY?((E=new Uint8Array(b.length+12)).set(b,12),b=E):b.unshift(0,0,0,0,0,0,0,0,0,0,0,0),T=0;T<12;++T)b[T]=this.encode(g,11===S?255&t.crc32:256*Math.random()|0);for(U=b.length;T<U;++T)b[T]=this.encode(g,b[T]);t.buffer=b}B+=30+d+t.buffer.length,C+=46+d+w}for(n=22+(this.comment?this.comment.length:0),e=new(USE_TYPEDARRAY?Uint8Array:Array)(B+C+n),i=0,a=(r=B)+C,S=0,D=Y.length;S<D;++S){if(t=Y[S],d=t.option.filename?t.option.filename.length:0,R=0,w=t.option.comment?t.option.comment.length:0,s=i,e[i++]=Zip.LocalFileHeaderSignature[0],e[i++]=Zip.LocalFileHeaderSignature[1],e[i++]=Zip.LocalFileHeaderSignature[2],e[i++]=Zip.LocalFileHeaderSignature[3],e[r++]=Zip.FileHeaderSignature[0],e[r++]=Zip.FileHeaderSignature[1],e[r++]=Zip.FileHeaderSignature[2],e[r++]=Zip.FileHeaderSignature[3],o=20,e[r++]=255&o,e[r++]=t.option.os||Zip.OperatingSystem.MSDOS,e[i++]=e[r++]=255&o,e[i++]=e[r++]=o>>8&255,f=0,(t.option.password||this.password)&&(f|=Zip.Flags.ENCRYPT),e[i++]=e[r++]=255&f,e[i++]=e[r++]=f>>8&255,h=t.option.compressionMethod,e[i++]=e[r++]=255&h,e[i++]=e[r++]=h>>8&255,l=t.option.date||new Date,e[i++]=e[r++]=(7&l.getMinutes())<<5|l.getSeconds()/2|0,e[i++]=e[r++]=l.getHours()<<3|l.getMinutes()>>3,e[i++]=e[r++]=(l.getMonth()+1&7)<<5|l.getDate(),e[i++]=e[r++]=(l.getFullYear()-1980&127)<<1|l.getMonth()+1>>3,u=t.crc32,e[i++]=e[r++]=255&u,e[i++]=e[r++]=u>>8&255,e[i++]=e[r++]=u>>16&255,e[i++]=e[r++]=u>>24&255,p=t.buffer.length,e[i++]=e[r++]=255&p,e[i++]=e[r++]=p>>8&255,e[i++]=e[r++]=p>>16&255,e[i++]=e[r++]=p>>24&255,c=t.size,e[i++]=e[r++]=255&c,e[i++]=e[r++]=c>>8&255,e[i++]=e[r++]=c>>16&255,e[i++]=e[r++]=c>>24&255,e[i++]=e[r++]=255&d,e[i++]=e[r++]=d>>8&255,e[i++]=e[r++]=255&R,e[i++]=e[r++]=R>>8&255,e[r++]=255&w,e[r++]=w>>8&255,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=0,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,m=t.option.filename)if(USE_TYPEDARRAY)e.set(m,i),e.set(m,r),i+=d,r+=d;else for(T=0;T<d;++T)e[i++]=e[r++]=m[T];if(A=t.option.extraField)if(USE_TYPEDARRAY)e.set(A,i),e.set(A,r),i+=R,r+=R;else for(T=0;T<w;++T)e[i++]=e[r++]=A[T];if(y=t.option.comment)if(USE_TYPEDARRAY)e.set(y,r),r+=w;else for(T=0;T<w;++T)e[r++]=y[T];if(USE_TYPEDARRAY)e.set(t.buffer,i),i+=t.buffer.length;else for(T=0,U=t.buffer.length;T<U;++T)e[i++]=t.buffer[T]}if(e[a++]=Zip.CentralDirectorySignature[0],e[a++]=Zip.CentralDirectorySignature[1],e[a++]=Zip.CentralDirectorySignature[2],e[a++]=Zip.CentralDirectorySignature[3],e[a++]=0,e[a++]=0,e[a++]=0,e[a++]=0,e[a++]=255&D,e[a++]=D>>8&255,e[a++]=255&D,e[a++]=D>>8&255,e[a++]=255&C,e[a++]=C>>8&255,e[a++]=C>>16&255,e[a++]=C>>24&255,e[a++]=255&B,e[a++]=B>>8&255,e[a++]=B>>16&255,e[a++]=B>>24&255,w=this.comment?this.comment.length:0,e[a++]=255&w,e[a++]=w>>8&255,this.comment)if(USE_TYPEDARRAY)e.set(this.comment,a),a+=w;else for(T=0,U=w;T<U;++T)e[a++]=this.comment[T];return e},Zip.prototype.deflateWithOption=function(t,e){return new RawDeflate(t,e.deflateOption).compress()},Zip.prototype.getByte=function(t){var e=65535&t[2]|2;return e*(1^e)>>8&255},Zip.prototype.encode=function(t,e){var i=this.getByte(t);return this.updateKeys(t,e),i^e},Zip.prototype.updateKeys=function(t,e){t[0]=CRC32.single(t[0],e),t[1]=1+(6681*(20173*(t[1]+(255&t[0]))>>>0)>>>0)>>>0,t[2]=CRC32.single(t[2],t[1]>>>24)},Zip.prototype.createEncryptionKey=function(t){var e,i,r=[305419896,591751049,878082192];for(USE_TYPEDARRAY&&(r=new Uint32Array(r)),e=0,i=t.length;e<i;++e)this.updateKeys(r,255&t[e]);return r};var Unzip=function(t,e){e=e||{},this.input=USE_TYPEDARRAY&&t instanceof Array?new Uint8Array(t):t,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=e.verify||!1,this.password=e.password};Unzip.CompressionMethod=Zip.CompressionMethod,Unzip.FileHeaderSignature=Zip.FileHeaderSignature,Unzip.LocalFileHeaderSignature=Zip.LocalFileHeaderSignature,Unzip.CentralDirectorySignature=Zip.CentralDirectorySignature,Unzip.FileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},Unzip.FileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==Unzip.FileHeaderSignature[0]||t[e++]!==Unzip.FileHeaderSignature[1]||t[e++]!==Unzip.FileHeaderSignature[2]||t[e++]!==Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=t[e++],this.os=t[e++],this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.fileCommentLength=t[e++]|t[e++]<<8,this.diskNumberStart=t[e++]|t[e++]<<8,this.internalFileAttributes=t[e++]|t[e++]<<8,this.externalFileAttributes=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,this.relativeOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,USE_TYPEDARRAY?t.subarray(e,e+=this.fileNameLength):t.slice(e,e+=this.fileNameLength)),this.extraField=USE_TYPEDARRAY?t.subarray(e,e+=this.extraFieldLength):t.slice(e,e+=this.extraFieldLength),this.comment=USE_TYPEDARRAY?t.subarray(e,e+this.fileCommentLength):t.slice(e,e+this.fileCommentLength),this.length=e-this.offset},Unzip.LocalFileHeader=function(t,e){this.input=t,this.offset=e,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},Unzip.LocalFileHeader.Flags=Zip.Flags,Unzip.LocalFileHeader.prototype.parse=function(){var t=this.input,e=this.offset;if(t[e++]!==Unzip.LocalFileHeaderSignature[0]||t[e++]!==Unzip.LocalFileHeaderSignature[1]||t[e++]!==Unzip.LocalFileHeaderSignature[2]||t[e++]!==Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=t[e++]|t[e++]<<8,this.flags=t[e++]|t[e++]<<8,this.compression=t[e++]|t[e++]<<8,this.time=t[e++]|t[e++]<<8,this.date=t[e++]|t[e++]<<8,this.crc32=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.compressedSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.plainSize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.fileNameLength=t[e++]|t[e++]<<8,this.extraFieldLength=t[e++]|t[e++]<<8,this.filename=String.fromCharCode.apply(null,USE_TYPEDARRAY?t.subarray(e,e+=this.fileNameLength):t.slice(e,e+=this.fileNameLength)),this.extraField=USE_TYPEDARRAY?t.subarray(e,e+=this.extraFieldLength):t.slice(e,e+=this.extraFieldLength),this.length=e-this.offset},Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var t,e=this.input;for(t=e.length-12;t>0;--t)if(e[t]===Unzip.CentralDirectorySignature[0]&&e[t+1]===Unzip.CentralDirectorySignature[1]&&e[t+2]===Unzip.CentralDirectorySignature[2]&&e[t+3]===Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=t);throw new Error("End of Central Directory Record not found")},Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var t,e=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),t=this.eocdrOffset,e[t++]!==Unzip.CentralDirectorySignature[0]||e[t++]!==Unzip.CentralDirectorySignature[1]||e[t++]!==Unzip.CentralDirectorySignature[2]||e[t++]!==Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=e[t++]|e[t++]<<8,this.startDisk=e[t++]|e[t++]<<8,this.totalEntriesThisDisk=e[t++]|e[t++]<<8,this.totalEntries=e[t++]|e[t++]<<8,this.centralDirectorySize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.centralDirectoryOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.commentLength=e[t++]|e[t++]<<8,this.comment=USE_TYPEDARRAY?e.subarray(t,t+this.commentLength):e.slice(t,t+this.commentLength)},Unzip.prototype.parseFileHeader=function(){var t,e,i,r,a=[],n={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),t=this.centralDirectoryOffset,i=0,r=this.totalEntries;i<r;++i)(e=new Unzip.FileHeader(this.input,t)).parse(),t+=e.length,a[i]=e,n[e.filename]=i;if(this.centralDirectorySize<t-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=a,this.filenameToIndex=n}},Unzip.prototype.getFileData=function(t,e){e=e||{};var i,r,a,n,s,o,f,h,l=this.input,u=this.fileHeaderList;if(u||this.parseFileHeader(),void 0===u[t])throw new Error("wrong index");if(r=u[t].relativeOffset,(i=new Unzip.LocalFileHeader(this.input,r)).parse(),r+=i.length,a=i.compressedSize,0!=(i.flags&Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!e.password&&!this.password)throw new Error("please set password");for(o=this.createDecryptionKey(e.password||this.password),f=r,h=r+12;f<h;++f)this.decode(o,l[f]);for(f=r+=12,h=r+(a-=12);f<h;++f)l[f]=this.decode(o,l[f])}switch(i.compression){case Unzip.CompressionMethod.STORE:n=USE_TYPEDARRAY?this.input.subarray(r,r+a):this.input.slice(r,r+a);break;case Unzip.CompressionMethod.DEFLATE:n=new RawInflate(this.input,{index:r,bufferSize:i.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(s=CRC32.calc(n),i.crc32!==s))throw new Error("wrong crc: file=0x"+i.crc32.toString(16)+", data=0x"+s.toString(16));return n},Unzip.prototype.getFilenames=function(){var t,e,i,r=[];for(this.fileHeaderList||this.parseFileHeader(),t=0,e=(i=this.fileHeaderList).length;t<e;++t)r[t]=i[t].filename;return r},Unzip.prototype.decompress=function(t,e){var i;if(this.filenameToIndex||this.parseFileHeader(),void 0===(i=this.filenameToIndex[t]))throw new Error(t+" not found");return this.getFileData(i,e)},Unzip.prototype.setPassword=function(t){this.password=t},Unzip.prototype.decode=function(t,e){return e^=this.getByte(t),this.updateKeys(t,e),e},Unzip.prototype.updateKeys=Zip.prototype.updateKeys,Unzip.prototype.createDecryptionKey=Zip.prototype.createEncryptionKey,Unzip.prototype.getByte=Zip.prototype.getByte;var CompressionMethod={DEFLATE:8,RESERVED:15},Deflate=function(t,e){this.input=t,this.output=new(USE_TYPEDARRAY?Uint8Array:Array)(Deflate.DefaultBufferSize),this.compressionType=Deflate.CompressionType.DYNAMIC,this.rawDeflate;var i,r={};!e&&(e={})||"number"==typeof e.compressionType&&(this.compressionType=e.compressionType);for(i in e)r[i]=e[i];r.outputBuffer=this.output,this.rawDeflate=new RawDeflate(this.input,r)};Deflate.DefaultBufferSize=32768,Deflate.CompressionType=RawDeflate.CompressionType,Deflate.compress=function(t,e){return new Deflate(t,e).compress()},Deflate.prototype.compress=function(){var t,e,i,r,a,n,s,o,f=0;switch(o=this.output,t=CompressionMethod.DEFLATE){case CompressionMethod.DEFLATE:e=Math.LOG2E*Math.log(RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(i=e<<4|t,o[f++]=i,0,t){case CompressionMethod.DEFLATE:switch(this.compressionType){case Deflate.CompressionType.NONE:n=0;break;case Deflate.CompressionType.FIXED:n=1;break;case Deflate.CompressionType.DYNAMIC:n=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=n<<6|0,a=31-(256*i+r)%31,r|=a,o[f++]=r,s=Adler32(this.input),this.rawDeflate.op=f,o=this.rawDeflate.compress(),f=o.length,USE_TYPEDARRAY&&((o=new Uint8Array(o.buffer)).length<=f+4&&(this.output=new Uint8Array(o.length+4),this.output.set(o),o=this.output),o=o.subarray(0,f+4)),o[f++]=s>>24&255,o[f++]=s>>16&255,o[f++]=s>>8&255,o[f++]=255&s,o};var exportObject=function(t,e){var i,r,a,n;if(Object.keys)i=Object.keys(e);else{i=[],a=0;for(r in e)i[a++]=r}for(a=0,n=i.length;a<n;++a)r=i[a],goog.exportSymbol(t+"."+r,e[r])},InflateStream=function(t){this.input=void 0===t?new(USE_TYPEDARRAY?Uint8Array:Array):t,this.ip=0,this.rawinflate=new RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output};InflateStream.prototype.decompress=function(t){var e;if(void 0!==t)if(USE_TYPEDARRAY){var i=new Uint8Array(this.input.length+t.length);i.set(this.input,0),i.set(t,this.input.length),this.input=i}else this.input=this.input.concat(t);return void 0===this.method&&this.readHeader()<0?new(USE_TYPEDARRAY?Uint8Array:Array):(e=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=USE_TYPEDARRAY?this.input.subarray(this.rawinflate.ip):this.input.slice(this.rawinflate.ip),this.ip=0),e)},InflateStream.prototype.readHeader=function(){var t=this.ip,e=this.input,i=e[t++],r=e[t++];if(void 0===i||void 0===r)return-1;switch(15&i){case CompressionMethod.DEFLATE:this.method=CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((i<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((i<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=t},module.exports={Deflate:Deflate};